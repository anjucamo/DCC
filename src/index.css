:root{
  --teal:#2aa6a5; --teal-dark:#1c7e7d; --magenta:#e0126d;
  --g900:#111827; --g800:#1f2937; --g700:#374151; --g600:#4b5563;
  --g500:#6b7280; --g300:#d1d5db; --g200:#e5e7eb; --g100:#f3f4f6;
  --white:#fff; --red:#e11d48;
}

/* ===== Reset / Base ===== */
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--g100);color:var(--g900);
  font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial}
.container{max-width:1320px;margin:0 auto;padding:16px 20px 40px}

/* ===== Grid helpers ===== */
.row{display:grid;gap:16px}
.row.one{grid-template-columns:1fr}
.row.two{grid-template-columns:repeat(2,minmax(0,1fr))}
.row.auto-3{grid-template-columns:repeat(3,minmax(0,1fr))}
@media (max-width:980px){.row.two,.row.auto-3{grid-template-columns:1fr}}
.responsive-gap{gap:16px}

/* ===== Header ===== */
.app-header{position:sticky;top:0;z-index:30;background:#fff;border-bottom:1px solid var(--g200)}
.header-grid{display:flex;align-items:center;height:92px}
.header{display:flex;align-items:center;gap:16px}
.logo{width:64px;height:64px;border-radius:12px;background:var(--g900)}
.title{margin:0;font-size:56px;line-height:1;font-weight:900;letter-spacing:-.5px;color:var(--g900)}
.subtitle{margin-top:4px;color:var(--teal);font-weight:800}
.header-actions{margin-left:auto;display:flex;align-items:center;gap:10px}
.pill{display:inline-flex;align-items:center;border:1px solid var(--g200);background:#fff;
  border-radius:999px;padding:4px 10px;font-size:12px;font-weight:700;color:var(--g700)}

/* ===== Card ===== */
.card{background:#fff;border:1px solid var(--g200);border-radius:12px;box-shadow:0 1px 0 rgba(0,0,0,.02)}
.card-header{padding:14px 16px;border-bottom:1px solid var(--g200);font-weight:800;color:var(--g700);background:#fff}
.card-body{padding:16px}
.card-header-flex{display:flex;align-items:center;justify-content:space-between}
.card-header-actions{display:flex;align-items:center;gap:10px}

/* ===== KPIs ===== */
.kpi-title{color:var(--g600);font-weight:800;letter-spacing:.2px}
.kpi-value{font-size:54px;font-weight:900;line-height:1;margin-top:6px;color:#111}
.kpi-meta{text-align:right;margin-top:-10px}
.kpi-meta-strong{font-weight:900;font-size:18px}
.kpi-meta-dim{color:var(--g500)}

/* ===== Buttons / Inputs ===== */
.btn{padding:10px 12px;border:1px solid var(--g200);border-radius:10px;background:#fff;font-weight:700;cursor:pointer}
.btn:hover{background:var(--g100)}
.btn.primary{background:var(--g900);color:#fff;border-color:var(--g900)}
.btn.primary:hover{filter:brightness(.95)}
.btn-row{display:flex;flex-wrap:wrap;gap:8px}

.label{display:block;font-size:12px;font-weight:800;color:#6b7280;margin-bottom:6px}
.input,.select,textarea.input{width:100%;border:1px solid var(--g200);border-radius:10px;padding:10px 12px;background:#fff}
.select-wrap{position:relative}
.select-caret{position:absolute;right:10px;top:50%;transform:translateY(-50%);pointer-events:none;color:#6b7280}
.space-y-3>*+*{margin-top:12px}
.field-row{display:grid;grid-template-columns:repeat(var(--cols,2),minmax(0,1fr));gap:12px}
@media (max-width:720px){.field-row{grid-template-columns:1fr}}
.filter-mini{min-width:220px}

/* progress (kpi mini / tabla) */
.progress{height:10px;background:var(--g100);border-radius:8px;overflow:hidden}
.progress i{display:block;height:100%;background:var(--teal)}

/* ===== Tabs ===== */
.tabs{display:flex;gap:8px;margin:18px 0;flex-wrap:wrap}
.tab{padding:10px 14px;border:1px solid var(--g200);border-radius:10px;background:#fff;font-weight:700;color:#111;cursor:pointer}
.tab.active{background:#111827;color:#fff;border-color:#111827}

/* ===== Filtros ===== */
.filters-header{display:flex;align-items:center;justify-content:space-between}
.filters-title{display:inline-flex;align-items:center;gap:8px}
.filters-grid{display:grid;grid-template-columns:repeat(6,minmax(0,1fr));gap:12px}
.filters-grid .span-2{grid-column:span 2 / span 2}
@media (max-width:980px){.filters-grid{grid-template-columns:1fr 1fr}.filters-grid .span-2{grid-column:span 2 / span 2}}
@media (max-width:640px){.filters-grid{grid-template-columns:1fr}.filters-grid .span-2{grid-column:auto}}

/* ===== Charts ===== */
.chart{width:100%}
.h-220{height:220px}.h-280{height:280px}.h-330{height:330px}

/* ===== Modal ===== */
.modal-overlay{position:fixed;inset:0;z-index:1000;background:rgba(17,24,39,.55);display:grid;place-items:center;padding:16px}
.modal-panel{width:min(96vw,980px);max-height:min(85vh,820px);background:#fff;border-radius:14px;overflow:hidden;
  display:flex;flex-direction:column;box-shadow:0 10px 30px rgba(0,0,0,.15)}
.modal-header{padding:16px 20px;border-bottom:1px solid var(--g200)}
.modal-body{padding:16px 20px;overflow:auto}
.modal-actions{display:flex;justify-content:flex-end;gap:8px;padding-top:12px}

/* ===== Stepper ===== */
.progress-rail{height:6px;background:#e5e7eb;border-radius:999px;overflow:hidden;margin-bottom:12px}
.progress-fill{height:100%;background:#111827}
.stepper{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px}
.step{display:flex;align-items:center;gap:8px;padding:6px 10px;border-radius:10px;background:#f3f4f6}
.step-dot{width:24px;height:24px;border-radius:999px;display:grid;place-items:center;font-weight:800;background:#e5e7eb}
.step.active{background:#e5e7eb}
.step.done .step-dot{background:#10b981;color:#fff}

/* ===== Tabla mínima ===== */
.table-wrap{width:100%;overflow-x:auto}
table{width:100%;border-collapse:collapse;font-size:14px}
th,td{text-align:left;padding:10px 12px}
thead th{background:#0b1220;color:#fff;font-weight:700}
tbody tr{background:#fff;border-top:1px solid var(--g200)}
tbody tr:nth-child(even){background:#fafafa}
.obs{max-width:360px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.table-empty{font-size:14px;color:#6b7280;margin-top:8px}

/* Tabla “stack” en móvil */
@media (max-width:740px){
  table.stack thead{display:none}
  table.stack tbody tr{display:block;border:1px solid var(--g200);border-radius:12px;padding:8px 12px;margin-bottom:10px}
  table.stack tbody td{display:grid;grid-template-columns:130px 1fr;gap:6px;padding:6px 0}
  table.stack tbody td::before{content:attr(data-label);font-weight:600;color:#6b7280}
}

/* ===== Detalle de venta ===== */
.section{background:#fff;border:1px solid var(--g200);border-radius:12px;padding:12px}
.section+.section{margin-top:12px}
.section-title{font-weight:700;margin-bottom:8px}
.kv{display:grid;grid-template-columns:180px 1fr;gap:8px;padding:6px 0}
.kv-label{color:#6b7280;font-size:12px}
.kv-value{font-weight:600}
.obs-list{margin:0;padding-left:18px}

/* ===== Utilidades ===== */
.note{color:#6b7280;font-size:12px}
.flex-row{display:flex;gap:8px;justify-content:flex-end}
.login{display:grid;place-items:center;min-height:calc(100vh - 92px)}
